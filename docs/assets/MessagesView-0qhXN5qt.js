import{Dt as e,G as t,H as n,J as r,K as i,St as a,W as o,X as s,Y as c,Z as ee,jt as l,lt as u,pt as d,q as f,st as p}from"./vendor-ui-DBxeWLyT.js";import"./vendor-vue-Bqq1sBNf.js";import{t as m}from"./CardDescription-CRV0m8La.js";import{B as h,Bt as te,It as g,Pt as _,Rt as v,V as y,Vt as ne,dt as b,ft as x,lt as S,ut as C}from"./index-Cch-Ig40.js";import{t as re}from"./useGameConfig-D2EZdt1x.js";var ie={class:`container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6`},ae={class:`text-2xl sm:text-3xl font-bold`},oe={class:`flex gap-2 border-b`},se={key:0,class:`space-y-4`},w={class:`flex justify-between items-start gap-2`},T={class:`min-w-0 flex-1`},E={class:`text-sm font-medium mb-2`},D={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},O={class:`text-muted-foreground`},k={class:`ml-1 font-medium`},A={class:`text-sm font-medium mb-2`},j={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},M={class:`text-muted-foreground`},N={class:`ml-1 font-medium`},P={key:0},F={class:`text-sm font-medium mb-2`},I={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},L={class:`text-muted-foreground`},R={class:`ml-1 font-medium`},z={class:`grid grid-cols-1 sm:grid-cols-2 gap-4`},B={class:`p-3 bg-muted rounded-lg`},V={class:`text-sm font-medium mb-2 text-red-600`},H={class:`space-y-1 text-xs`},U={key:0,class:`text-muted-foreground`},W={class:`p-3 bg-muted rounded-lg`},G={class:`text-sm font-medium mb-2 text-red-600`},K={class:`space-y-1 text-xs`},ce={key:0,class:`text-muted-foreground`},le={key:1,class:`p-3 bg-green-50 dark:bg-green-950 rounded-lg`},ue={class:`text-sm font-medium mb-2 text-green-600`},de={class:`flex flex-wrap gap-3 text-xs sm:text-sm`},fe={key:0,class:`flex items-center gap-1`},pe={key:1,class:`flex items-center gap-1`},me={key:2,class:`flex items-center gap-1`},he={key:2,class:`p-3 bg-muted rounded-lg`},ge={class:`text-sm font-medium mb-2`},_e={class:`flex flex-wrap gap-3 text-xs sm:text-sm`},ve={key:0,class:`flex items-center gap-1`},ye={key:1,class:`flex items-center gap-1`},be={key:1,class:`space-y-4`},xe={class:`flex justify-between items-start gap-2`},Se={class:`text-sm font-medium mb-2`},Ce={class:`flex flex-wrap gap-3 text-xs sm:text-sm`},we={class:`flex items-center gap-1`},Te={class:`flex items-center gap-1`},Ee={class:`flex items-center gap-1`},De={key:0},Oe={class:`text-sm font-medium mb-2`},ke={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},Ae={class:`text-muted-foreground`},je={class:`ml-1 font-medium`},Me={key:1},Ne={class:`text-sm font-medium mb-2`},Pe={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},Fe={class:`text-muted-foreground`},Ie={class:`ml-1 font-medium`},Le={key:2},Re={class:`text-sm font-medium mb-2`},ze={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},Be={key:0,class:`text-xs sm:text-sm`},q={class:`text-muted-foreground`},Ve={class:`ml-1 font-medium`},J=ee({__name:`MessagesView`,setup(ee){let J=ne(),{t:Y}=te(),{SHIPS:X,DEFENSES:Z,BUILDINGS:He}=re(),Q=a(`battles`),Ue=o(()=>[...J.player.battleReports].sort((e,t)=>t.timestamp-e.timestamp)),We=o(()=>[...J.player.spyReports].sort((e,t)=>t.timestamp-e.timestamp)),$=e=>e?Object.values(e).some(e=>e>0):!1;return(a,o)=>(p(),r(`div`,ie,[t(`h1`,ae,l(e(Y)(`messagesView.title`)),1),t(`div`,oe,[s(e(v),{onClick:o[0]||=e=>Q.value=`battles`,variant:Q.value===`battles`?`default`:`ghost`,class:`rounded-b-none`},{default:d(()=>[c(l(e(Y)(`messagesView.battleReports`))+` `,1),e(J).player.battleReports.length>0?(p(),i(e(g),{key:0,variant:`secondary`,class:`ml-1`},{default:d(()=>[c(l(e(J).player.battleReports.length),1)]),_:1})):f(``,!0)]),_:1},8,[`variant`]),s(e(v),{onClick:o[1]||=e=>Q.value=`spy`,variant:Q.value===`spy`?`default`:`ghost`,class:`rounded-b-none`},{default:d(()=>[c(l(e(Y)(`messagesView.spyReports`))+` `,1),e(J).player.spyReports.length>0?(p(),i(e(g),{key:0,variant:`secondary`,class:`ml-1`},{default:d(()=>[c(l(e(J).player.spyReports.length),1)]),_:1})):f(``,!0)]),_:1},8,[`variant`])]),Q.value===`battles`?(p(),r(`div`,se,[e(J).player.battleReports.length===0?(p(),i(e(x),{key:0},{default:d(()=>[s(e(b),{class:`py-8 text-center text-muted-foreground`},{default:d(()=>[c(l(e(Y)(`messagesView.noBattleReports`)),1)]),_:1})]),_:1})):f(``,!0),(p(!0),r(n,null,u(Ue.value,a=>(p(),i(e(x),{key:a.id},{default:d(()=>[s(e(C),null,{default:d(()=>[t(`div`,w,[t(`div`,T,[s(e(S),{class:`text-base sm:text-lg`},{default:d(()=>[c(l(e(Y)(`messagesView.battleReport`)),1)]),_:1}),s(e(m),{class:`text-xs sm:text-sm`},{default:d(()=>[c(l(e(h)(a.timestamp)),1)]),_:2},1024)]),s(e(g),{variant:a.winner===`attacker`?`default`:a.winner===`defender`?`destructive`:`secondary`},{default:d(()=>[c(l(a.winner===`attacker`?e(Y)(`messagesView.victory`):a.winner===`defender`?e(Y)(`messagesView.defeat`):e(Y)(`messagesView.draw`)),1)]),_:2},1032,[`variant`])])]),_:2},1024),s(e(b),{class:`space-y-4`},{default:d(()=>[t(`div`,null,[t(`p`,E,l(e(Y)(`messagesView.attackerFleet`))+`:`,1),t(`div`,D,[(p(!0),r(n,null,u(a.attackerFleet,(n,i)=>(p(),r(`div`,{key:i,class:`text-xs sm:text-sm`},[t(`span`,O,l(e(X)[i].name)+`:`,1),t(`span`,k,l(n),1)]))),128))])]),t(`div`,null,[t(`p`,A,l(e(Y)(`messagesView.defenderFleet`))+`:`,1),t(`div`,j,[(p(!0),r(n,null,u(a.defenderFleet,(n,i)=>(p(),r(`div`,{key:i,class:`text-xs sm:text-sm`},[t(`span`,M,l(e(X)[i].name)+`:`,1),t(`span`,N,l(n),1)]))),128))])]),$(a.defenderDefense)?(p(),r(`div`,P,[t(`p`,F,l(e(Y)(`messagesView.defenderDefense`))+`:`,1),t(`div`,I,[(p(!0),r(n,null,u(a.defenderDefense,(n,i)=>(p(),r(`div`,{key:i,class:`text-xs sm:text-sm`},[t(`span`,L,l(e(Z)[i].name)+`:`,1),t(`span`,R,l(n),1)]))),128))])])):f(``,!0),t(`div`,z,[t(`div`,B,[t(`p`,V,l(e(Y)(`messagesView.attackerLosses`))+`:`,1),t(`div`,H,[(p(!0),r(n,null,u(a.attackerLosses,(t,n)=>(p(),r(`div`,{key:n},l(e(X)[n].name)+`: `+l(t),1))),128)),Object.keys(a.attackerLosses).length===0?(p(),r(`p`,U,l(e(Y)(`messagesView.noLosses`)),1)):f(``,!0)])]),t(`div`,W,[t(`p`,G,l(e(Y)(`messagesView.defenderLosses`))+`:`,1),t(`div`,K,[(p(!0),r(n,null,u(a.defenderLosses.fleet,(t,n)=>(p(),r(`div`,{key:n},l(e(X)[n].name)+`: `+l(t),1))),128)),(p(!0),r(n,null,u(a.defenderLosses.defense,(t,n)=>(p(),r(`div`,{key:n},l(e(Z)[n].name)+`: `+l(t),1))),128)),Object.keys(a.defenderLosses.fleet).length===0&&Object.keys(a.defenderLosses.defense).length===0?(p(),r(`p`,ce,l(e(Y)(`messagesView.noLosses`)),1)):f(``,!0)])])]),a.plunder.metal>0||a.plunder.crystal>0||a.plunder.deuterium>0?(p(),r(`div`,le,[t(`p`,ue,l(e(Y)(`messagesView.plunder`))+`:`,1),t(`div`,de,[a.plunder.metal>0?(p(),r(`span`,fe,[s(_,{type:`metal`,size:`sm`}),c(` `+l(e(y)(a.plunder.metal)),1)])):f(``,!0),a.plunder.crystal>0?(p(),r(`span`,pe,[s(_,{type:`crystal`,size:`sm`}),c(` `+l(e(y)(a.plunder.crystal)),1)])):f(``,!0),a.plunder.deuterium>0?(p(),r(`span`,me,[s(_,{type:`deuterium`,size:`sm`}),c(` `+l(e(y)(a.plunder.deuterium)),1)])):f(``,!0)])])):f(``,!0),a.debrisField.metal>0||a.debrisField.crystal>0?(p(),r(`div`,he,[t(`p`,ge,l(e(Y)(`messagesView.debrisField`))+`:`,1),t(`div`,_e,[a.debrisField.metal>0?(p(),r(`span`,ve,[s(_,{type:`metal`,size:`sm`}),c(` `+l(e(y)(a.debrisField.metal)),1)])):f(``,!0),a.debrisField.crystal>0?(p(),r(`span`,ye,[s(_,{type:`crystal`,size:`sm`}),c(` `+l(e(y)(a.debrisField.crystal)),1)])):f(``,!0)])])):f(``,!0)]),_:2},1024)]),_:2},1024))),128))])):f(``,!0),Q.value===`spy`?(p(),r(`div`,be,[e(J).player.spyReports.length===0?(p(),i(e(x),{key:0},{default:d(()=>[s(e(b),{class:`py-8 text-center text-muted-foreground`},{default:d(()=>[c(l(e(Y)(`messagesView.noSpyReports`)),1)]),_:1})]),_:1})):f(``,!0),(p(!0),r(n,null,u(We.value,a=>(p(),i(e(x),{key:a.id},{default:d(()=>[s(e(C),null,{default:d(()=>[t(`div`,xe,[t(`div`,null,[s(e(S),{class:`text-base sm:text-lg`},{default:d(()=>[c(l(e(Y)(`messagesView.spyReport`)),1)]),_:1}),s(e(m),{class:`text-xs sm:text-sm`},{default:d(()=>[c(l(e(h)(a.timestamp)),1)]),_:2},1024)]),s(e(g),{variant:`outline`},{default:d(()=>[c(l(a.targetPlanetId),1)]),_:2},1024)])]),_:2},1024),s(e(b),{class:`space-y-4`},{default:d(()=>[t(`div`,null,[t(`p`,Se,l(e(Y)(`messagesView.resources`))+`:`,1),t(`div`,Ce,[t(`span`,we,[s(_,{type:`metal`,size:`sm`}),c(` `+l(e(y)(a.resources.metal)),1)]),t(`span`,Te,[s(_,{type:`crystal`,size:`sm`}),c(` `+l(e(y)(a.resources.crystal)),1)]),t(`span`,Ee,[s(_,{type:`deuterium`,size:`sm`}),c(` `+l(e(y)(a.resources.deuterium)),1)])])]),a.fleet?(p(),r(`div`,De,[t(`p`,Oe,l(e(Y)(`messagesView.fleet`))+`:`,1),t(`div`,ke,[(p(!0),r(n,null,u(a.fleet,(n,i)=>(p(),r(`div`,{key:i,class:`text-xs sm:text-sm`},[t(`span`,Ae,l(e(X)[i].name)+`:`,1),t(`span`,je,l(n),1)]))),128))])])):f(``,!0),a.defense&&$(a.defense)?(p(),r(`div`,Me,[t(`p`,Ne,l(e(Y)(`messagesView.defense`))+`:`,1),t(`div`,Pe,[(p(!0),r(n,null,u(a.defense,(n,i)=>(p(),r(`div`,{key:i,class:`text-xs sm:text-sm`},[t(`span`,Fe,l(e(Z)[i].name)+`:`,1),t(`span`,Ie,l(n),1)]))),128))])])):f(``,!0),a.buildings?(p(),r(`div`,Le,[t(`p`,Re,l(e(Y)(`messagesView.buildings`))+`:`,1),t(`div`,ze,[(p(!0),r(n,null,u(a.buildings,(i,a)=>(p(),r(n,{key:a},[i&&i>0?(p(),r(`div`,Be,[t(`span`,q,l(e(He)[a].name)+`:`,1),t(`span`,Ve,`Lv `+l(i),1)])):f(``,!0)],64))),128))])])):f(``,!0)]),_:2},1024)]),_:2},1024))),128))])):f(``,!0)]))}});export{J as default};