import{Dt as e,G as t,H as n,J as r,K as i,Ot as a,St as o,W as s,X as c,Y as l,Z as u,jt as d,lt as f,pt as p,q as m,st as h}from"./vendor-ui-DBxeWLyT.js";import"./vendor-vue-Bqq1sBNf.js";import{t as g}from"./CardDescription-CRV0m8La.js";import{$ as _,Bt as ee,Ct as te,Et as v,G as y,K as b,Mt as ne,O as re,Pt as x,Rt as S,St as ie,Tt as C,V as w,bt as ae,dt as T,ft as E,it as D,jt as O,lt as k,st as A,tt as j,ut as M,xt as oe}from"./index-Cch-Ig40.js";import{t as se}from"./useGameConfig-D2EZdt1x.js";var ce=O(`rotate-ccw`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}]]),le=O(`trophy`,[[`path`,{d:`M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978`,key:`1n3hpd`}],[`path`,{d:`M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978`,key:`rfe1zi`}],[`path`,{d:`M18 9h1.5a1 1 0 0 0 0-5H18`,key:`7xy6bh`}],[`path`,{d:`M4 22h16`,key:`57wxv0`}],[`path`,{d:`M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z`,key:`1mhfuq`}],[`path`,{d:`M6 9H4.5a1 1 0 0 1 0-5H6`,key:`tex48p`}]]),N=(e,t=0,n=.1)=>Math.floor(e*(1+t*n)),P=(e,t=!1)=>{let n=[];if(e.ships){for(let[t,r]of Object.entries(e.ships))if(r>0){let i=j[t];n.push({type:t,count:r,attack:N(i.attack,e.weaponTech),shield:N(i.shield,e.shieldTech),armor:N(i.armor,e.armorTech)})}}if(t&&e.defense){for(let[t,r]of Object.entries(e.defense))if(r>0){let i=_[t];n.push({type:t,count:r,attack:N(i.attack,e.weaponTech),shield:N(i.shield,e.shieldTech),armor:N(i.armor,e.armorTech)})}}return n},F=(e,t)=>{let n=e.attack,r=t.shield,i=t.armor,a=0,o=0;if(n<r*.01&&Math.random()>.01)return{destroyed:0,damagedShield:0};let s=n;if(s>r)s-=r,o=r;else return o=s,{destroyed:0,damagedShield:o};if(s>i)a=1;else{let e=s/i;Math.random()<e&&(a=1)}return{destroyed:a,damagedShield:o}},I=(e,t)=>{let n={},r={},i={};for(let n of e)for(let e=0;e<n.count&&t.length!==0;e++){let e=Math.floor(Math.random()*t.length),a=t[e];if(!a)continue;let{destroyed:o}=F(n,a);if(o>0){if(a.count-=o,Object.values(A).includes(a.type)){let e=a.type;r[e]=(r[e]||0)+o}else{let e=a.type;i[e]=(i[e]||0)+o}a.count<=0&&t.splice(e,1)}}for(let r of t)for(let t=0;t<r.count&&e.length!==0;t++){let t=Math.floor(Math.random()*e.length),i=e[t];if(!i)continue;let{destroyed:a}=F(r,i);if(a>0){i.count-=a;let r=i.type;n[r]=(n[r]||0)+a,i.count<=0&&e.splice(t,1)}}let a=e.reduce((e,t)=>e+t.count*t.attack,0),o=t.reduce((e,t)=>e+t.count*t.attack,0);return{attackerLosses:n,defenderLosses:{fleet:r,defense:i},attackerRemainingPower:a,defenderRemainingPower:o}};const ue=(e,t,n=6)=>{let r=P(e,!1),i=P(t,!0),a={},o={},s={},c=[],l=0;for(let e=0;e<n&&!(r.length===0||i.length===0);e++){l++;let e=I(r,i);c.push({round:l,attackerLosses:{...e.attackerLosses},defenderLosses:{fleet:{...e.defenderLosses.fleet},defense:{...e.defenderLosses.defense}},attackerRemainingPower:e.attackerRemainingPower,defenderRemainingPower:e.defenderRemainingPower});for(let[t,n]of Object.entries(e.attackerLosses))a[t]=(a[t]||0)+n;for(let[t,n]of Object.entries(e.defenderLosses.fleet))o[t]=(o[t]||0)+n;for(let[t,n]of Object.entries(e.defenderLosses.defense))s[t]=(s[t]||0)+n}let u={};for(let[e,t]of Object.entries(s)){let n=Math.floor(t*.7);n>0&&(u[e]=n,s[e]=t-n)}let d={};for(let e of r)e.count>0&&(d[e.type]=e.count);let f={},p={};for(let e of i)e.count>0&&(Object.values(A).includes(e.type)?f[e.type]=e.count:p[e.type]=e.count);for(let[e,t]of Object.entries(u))p[e]=(p[e]||0)+t;let m;return m=r.length===0&&i.length===0?`draw`:r.length===0?`defender`:i.length===0?`attacker`:`draw`,{winner:m,rounds:l,attackerLosses:a,defenderLosses:{fleet:o,defense:s},attackerRemaining:d,defenderRemaining:{fleet:f,defense:p},roundDetails:c}},de=(e,t)=>{let n=0;for(let[e,r]of Object.entries(t)){let t=j[e];n+=t.cargoCapacity*r}let r={metal:Math.floor(e.metal*.5),crystal:Math.floor(e.crystal*.5),deuterium:Math.floor(e.deuterium*.5),darkMatter:Math.floor(e.darkMatter*.5),energy:0},i=r.metal+r.crystal+r.deuterium+r.darkMatter;if(n>=i)return r;let a=n/i;return{metal:Math.floor(r.metal*a),crystal:Math.floor(r.crystal*a),deuterium:Math.floor(r.deuterium*a),darkMatter:Math.floor(r.darkMatter*a),energy:0}},fe=(e,t)=>{let n=0,r=0;for(let[t,i]of Object.entries(e)){let e=j[t];n+=e.cost.metal*i*.3,r+=e.cost.crystal*i*.3}for(let[e,i]of Object.entries(t.fleet)){let t=j[e];n+=t.cost.metal*i*.3,r+=t.cost.crystal*i*.3}for(let[e,i]of Object.entries(t.defense)){let t=_[e];n+=t.cost.metal*i*.3,r+=t.cost.crystal*i*.3}return{metal:Math.floor(n),crystal:Math.floor(r),deuterium:0,darkMatter:0,energy:0}};var pe={class:`container mx-auto p-4 sm:p-6 space-y-6`},me={class:`text-2xl sm:text-3xl font-bold`},L={class:`flex gap-2 border-b`},R={class:`text-sm font-medium mb-3`},z={class:`grid grid-cols-2 md:grid-cols-3 gap-3`},he={class:`text-sm font-medium mb-3`},ge={class:`grid grid-cols-3 gap-3`},_e={class:`space-y-1`},ve={class:`space-y-1`},ye={class:`space-y-1`},be={class:`text-sm font-medium mb-3`},xe={class:`grid grid-cols-2 md:grid-cols-3 gap-3`},Se={class:`text-sm font-medium mb-3`},Ce={class:`grid grid-cols-2 md:grid-cols-3 gap-3`},we={class:`text-sm font-medium mb-3`},Te={class:`grid grid-cols-3 gap-3`},Ee={class:`space-y-1`},De={class:`space-y-1`},Oe={class:`space-y-1`},ke={class:`text-sm font-medium mb-3`},Ae={class:`grid grid-cols-3 gap-3`},je={class:`space-y-1`},Me={class:`space-y-1`},Ne={class:`space-y-1`},Pe={class:`flex gap-2`},Fe={key:0,class:`space-y-4`},Ie={class:`text-lg font-bold`},Le={class:`text-sm mt-1`},Re={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},ze={class:`space-y-2`},Be={class:`text-sm font-medium text-red-600 dark:text-red-400`},Ve={class:`p-3 bg-muted rounded-lg space-y-1 text-xs`},He={class:`text-muted-foreground`},Ue={class:`ml-2 font-medium`},We={key:0,class:`text-muted-foreground`},Ge={class:`space-y-2`},Ke={class:`text-sm font-medium text-red-600 dark:text-red-400`},qe={class:`p-3 bg-muted rounded-lg space-y-1 text-xs`},Je={class:`text-muted-foreground`},Ye={class:`ml-2 font-medium`},Xe={class:`text-muted-foreground`},Ze={class:`ml-2 font-medium`},Qe={key:0,class:`text-muted-foreground`},$e={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},et={class:`space-y-2`},tt={class:`text-sm font-medium text-blue-600 dark:text-blue-400`},nt={class:`p-3 bg-muted rounded-lg space-y-1 text-xs`},rt={class:`text-muted-foreground`},it={class:`ml-2 font-medium`},at={key:0,class:`text-muted-foreground`},ot={class:`space-y-2`},st={class:`text-sm font-medium text-blue-600 dark:text-blue-400`},ct={class:`p-3 bg-muted rounded-lg space-y-1 text-xs`},lt={class:`text-muted-foreground`},B={class:`ml-2 font-medium`},ut={class:`text-muted-foreground`},dt={class:`ml-2 font-medium`},ft={key:0,class:`text-muted-foreground`},pt={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},mt={key:0,class:`p-3 bg-green-50 dark:bg-green-950 rounded-lg`},ht={class:`text-sm font-medium mb-2 text-green-600 dark:text-green-400`},gt={class:`flex flex-wrap gap-3 text-xs`},_t={key:0,class:`flex items-center gap-1`},vt={key:1,class:`flex items-center gap-1`},yt={key:2,class:`flex items-center gap-1`},bt={key:1,class:`p-3 bg-muted rounded-lg`},xt={class:`text-sm font-medium mb-2`},St={class:`flex flex-wrap gap-3 text-xs`},Ct={key:0,class:`flex items-center gap-1`},wt={key:1,class:`flex items-center gap-1`},Tt={key:0,class:`text-xs text-muted-foreground mt-2`},Et={class:`space-y-2`},Dt={key:0,class:`relative pl-6 space-y-4`},Ot={class:`border rounded-lg p-3 bg-card hover:shadow-md transition-shadow`},kt={class:`flex items-center justify-between mb-3`},At={class:`text-sm font-semibold`},jt={class:`flex gap-3 text-xs text-muted-foreground`},Mt=[`title`],Nt=[`title`],Pt={class:`grid grid-cols-1 md:grid-cols-2 gap-3`},Ft={class:`bg-red-50 dark:bg-red-950/20 rounded p-2`},It={class:`text-xs font-medium text-red-600 dark:text-red-400 mb-1.5`},Lt={class:`text-xs space-y-0.5`},Rt={class:`text-muted-foreground`},zt={class:`font-medium`},Bt={key:0,class:`text-muted-foreground italic`},Vt={class:`bg-blue-50 dark:bg-blue-950/20 rounded p-2`},Ht={class:`text-xs font-medium text-blue-600 dark:text-blue-400 mb-1.5`},Ut={class:`text-xs space-y-0.5`},Wt={class:`text-muted-foreground`},Gt={class:`font-medium`},Kt={class:`text-muted-foreground`},qt={class:`font-medium`},Jt={key:0,class:`text-muted-foreground italic`},V=u({__name:`BattleSimulatorView`,setup(u){let{t:_}=ee(),{SHIPS:O,DEFENSES:j}=se(),N=o({[A.LightFighter]:0,[A.HeavyFighter]:0,[A.Cruiser]:0,[A.Battleship]:0,[A.SmallCargo]:0,[A.LargeCargo]:0,[A.ColonyShip]:0,[A.Recycler]:0,[A.EspionageProbe]:0,[A.DarkMatterHarvester]:0}),P=o(`attacker`),F=o({weapon:0,shield:0,armor:0}),I=o({[A.LightFighter]:0,[A.HeavyFighter]:0,[A.Cruiser]:0,[A.Battleship]:0,[A.SmallCargo]:0,[A.LargeCargo]:0,[A.ColonyShip]:0,[A.Recycler]:0,[A.EspionageProbe]:0,[A.DarkMatterHarvester]:0}),V=o({[D.RocketLauncher]:0,[D.LightLaser]:0,[D.HeavyLaser]:0,[D.GaussCannon]:0,[D.IonCannon]:0,[D.PlasmaTurret]:0,[D.SmallShieldDome]:0,[D.LargeShieldDome]:0}),H=o({weapon:0,shield:0,armor:0}),U=o({metal:1e5,crystal:5e4,deuterium:25e3,darkMatter:100,energy:0}),W=o(null),G=o(0),K=o({}),q=o({fleet:{},defense:{}}),J=o([]),Y=o(!1),X=o(!1),Z=s(()=>!W.value||W.value.winner!==`attacker`?{metal:0,crystal:0,deuterium:0,darkMatter:0,energy:0}:de(U.value,N.value)),Q=s(()=>W.value?fe(W.value.attackerLosses,W.value.defenderLosses):{metal:0,crystal:0,deuterium:0,darkMatter:0,energy:0}),Yt=e=>re(e),$=s(()=>Q.value?Yt(Q.value):0),Xt=()=>{let e=ue({ships:N.value,weaponTech:F.value.weapon,shieldTech:F.value.shield,armorTech:F.value.armor},{ships:I.value,defense:V.value,weaponTech:H.value.weapon,shieldTech:H.value.shield,armorTech:H.value.armor});G.value=e.rounds,K.value=e.attackerRemaining,q.value=e.defenderRemaining,J.value=e.roundDetails,Y.value=!1,W.value={id:`sim_${Date.now()}`,timestamp:Date.now(),attackerId:`simulator_attacker`,defenderId:`simulator_defender`,attackerPlanetId:`sim_attacker`,defenderPlanetId:`sim_defender`,attackerFleet:N.value,defenderFleet:I.value,defenderDefense:V.value,attackerLosses:e.attackerLosses,defenderLosses:e.defenderLosses,winner:e.winner,plunder:Z.value,debrisField:Q.value},X.value=!0},Zt=()=>{Object.keys(N.value).forEach(e=>{N.value[e]=0}),Object.keys(I.value).forEach(e=>{I.value[e]=0}),Object.keys(V.value).forEach(e=>{V.value[e]=0}),F.value={weapon:0,shield:0,armor:0},H.value={weapon:0,shield:0,armor:0},W.value=null,G.value=0,K.value={},q.value={fleet:{},defense:{}},J.value=[],Y.value=!1,X.value=!1},Qt=e=>e===`attacker`?`bg-green-50 dark:bg-green-950 text-green-700 dark:text-green-300`:e===`defender`?`bg-red-50 dark:bg-red-950 text-red-700 dark:text-red-300`:`bg-gray-50 dark:bg-gray-950 text-gray-700 dark:text-gray-300`;return(o,s)=>(h(),r(`div`,pe,[t(`h1`,me,d(e(_)(`simulatorView.title`)),1),t(`div`,L,[c(e(S),{onClick:s[0]||=e=>P.value=`attacker`,variant:P.value===`attacker`?`default`:`ghost`,class:`rounded-b-none`},{default:p(()=>[c(e(C)),l(` `+d(e(_)(`simulatorView.attacker`)),1)]),_:1},8,[`variant`]),c(e(S),{onClick:s[1]||=e=>P.value=`defender`,variant:P.value===`defender`?`default`:`ghost`,class:`rounded-b-none`},{default:p(()=>[c(e(v)),l(` `+d(e(_)(`simulatorView.defender`)),1)]),_:1},8,[`variant`])]),P.value===`attacker`?(h(),i(e(E),{key:0},{default:p(()=>[c(e(M),null,{default:p(()=>[c(e(k),null,{default:p(()=>[l(d(e(_)(`simulatorView.attackerConfig`)),1)]),_:1}),c(e(g),null,{default:p(()=>[l(d(e(_)(`simulatorView.attackerConfigDesc`)),1)]),_:1})]),_:1}),c(e(T),{class:`space-y-4`},{default:p(()=>[t(`div`,null,[t(`h3`,R,d(e(_)(`simulatorView.fleet`)),1),t(`div`,z,[(h(!0),r(n,null,f(Object.values(e(A)),t=>(h(),r(`div`,{key:t,class:`space-y-1`},[c(e(y),{for:`attacker-${t}`,class:`text-xs`},{default:p(()=>[l(d(e(O)[t].name),1)]),_:2},1032,[`for`]),c(e(b),{id:`attacker-${t}`,modelValue:N.value[t],"onUpdate:modelValue":e=>N.value[t]=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`id`,`modelValue`,`onUpdate:modelValue`])]))),128))])]),t(`div`,null,[t(`h3`,he,d(e(_)(`simulatorView.techLevels`)),1),t(`div`,ge,[t(`div`,_e,[c(e(y),{for:`attacker-weapon`,class:`text-xs`},{default:p(()=>[l(d(e(_)(`simulatorView.weapon`)),1)]),_:1}),c(e(b),{id:`attacker-weapon`,modelValue:F.value.weapon,"onUpdate:modelValue":s[2]||=e=>F.value.weapon=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`modelValue`])]),t(`div`,ve,[c(e(y),{for:`attacker-shield`,class:`text-xs`},{default:p(()=>[l(d(e(_)(`simulatorView.shield`)),1)]),_:1}),c(e(b),{id:`attacker-shield`,modelValue:F.value.shield,"onUpdate:modelValue":s[3]||=e=>F.value.shield=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`modelValue`])]),t(`div`,ye,[c(e(y),{for:`attacker-armor`,class:`text-xs`},{default:p(()=>[l(d(e(_)(`simulatorView.armor`)),1)]),_:1}),c(e(b),{id:`attacker-armor`,modelValue:F.value.armor,"onUpdate:modelValue":s[4]||=e=>F.value.armor=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`modelValue`])])])])]),_:1})]),_:1})):(h(),i(e(E),{key:1},{default:p(()=>[c(e(M),null,{default:p(()=>[c(e(k),null,{default:p(()=>[l(d(e(_)(`simulatorView.defenderConfig`)),1)]),_:1}),c(e(g),null,{default:p(()=>[l(d(e(_)(`simulatorView.defenderConfigDesc`)),1)]),_:1})]),_:1}),c(e(T),{class:`space-y-4`},{default:p(()=>[t(`div`,null,[t(`h3`,be,d(e(_)(`simulatorView.fleet`)),1),t(`div`,xe,[(h(!0),r(n,null,f(Object.values(e(A)),t=>(h(),r(`div`,{key:t,class:`space-y-1`},[c(e(y),{for:`defender-${t}`,class:`text-xs`},{default:p(()=>[l(d(e(O)[t].name),1)]),_:2},1032,[`for`]),c(e(b),{id:`defender-${t}`,modelValue:I.value[t],"onUpdate:modelValue":e=>I.value[t]=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`id`,`modelValue`,`onUpdate:modelValue`])]))),128))])]),t(`div`,null,[t(`h3`,Se,d(e(_)(`simulatorView.defenseStructures`)),1),t(`div`,Ce,[(h(!0),r(n,null,f(Object.values(e(D)),t=>(h(),r(`div`,{key:t,class:`space-y-1`},[c(e(y),{for:`defense-${t}`,class:`text-xs`},{default:p(()=>[l(d(e(j)[t].name),1)]),_:2},1032,[`for`]),c(e(b),{id:`defense-${t}`,modelValue:V.value[t],"onUpdate:modelValue":e=>V.value[t]=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`id`,`modelValue`,`onUpdate:modelValue`])]))),128))])]),t(`div`,null,[t(`h3`,we,d(e(_)(`simulatorView.techLevels`)),1),t(`div`,Te,[t(`div`,Ee,[c(e(y),{for:`defender-weapon`,class:`text-xs`},{default:p(()=>[l(d(e(_)(`simulatorView.weapon`)),1)]),_:1}),c(e(b),{id:`defender-weapon`,modelValue:H.value.weapon,"onUpdate:modelValue":s[5]||=e=>H.value.weapon=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`modelValue`])]),t(`div`,De,[c(e(y),{for:`defender-shield`,class:`text-xs`},{default:p(()=>[l(d(e(_)(`simulatorView.shield`)),1)]),_:1}),c(e(b),{id:`defender-shield`,modelValue:H.value.shield,"onUpdate:modelValue":s[6]||=e=>H.value.shield=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`modelValue`])]),t(`div`,Oe,[c(e(y),{for:`defender-armor`,class:`text-xs`},{default:p(()=>[l(d(e(_)(`simulatorView.armor`)),1)]),_:1}),c(e(b),{id:`defender-armor`,modelValue:H.value.armor,"onUpdate:modelValue":s[7]||=e=>H.value.armor=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`modelValue`])])])]),t(`div`,null,[t(`h3`,ke,d(e(_)(`simulatorView.defenderResources`)),1),t(`div`,Ae,[t(`div`,je,[c(e(y),{for:`defender-metal`,class:`text-xs flex items-center gap-1`},{default:p(()=>[c(x,{type:`metal`,size:`sm`}),l(` `+d(e(_)(`resources.metal`)),1)]),_:1}),c(e(b),{id:`defender-metal`,modelValue:U.value.metal,"onUpdate:modelValue":s[8]||=e=>U.value.metal=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`modelValue`])]),t(`div`,Me,[c(e(y),{for:`defender-crystal`,class:`text-xs flex items-center gap-1`},{default:p(()=>[c(x,{type:`crystal`,size:`sm`}),l(` `+d(e(_)(`resources.crystal`)),1)]),_:1}),c(e(b),{id:`defender-crystal`,modelValue:U.value.crystal,"onUpdate:modelValue":s[9]||=e=>U.value.crystal=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`modelValue`])]),t(`div`,Ne,[c(e(y),{for:`defender-deuterium`,class:`text-xs flex items-center gap-1`},{default:p(()=>[c(x,{type:`deuterium`,size:`sm`}),l(` `+d(e(_)(`resources.deuterium`)),1)]),_:1}),c(e(b),{id:`defender-deuterium`,modelValue:U.value.deuterium,"onUpdate:modelValue":s[10]||=e=>U.value.deuterium=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`h-8`},null,8,[`modelValue`])])])])]),_:1})]),_:1})),t(`div`,Pe,[c(e(S),{onClick:Xt,class:`flex-1`,size:`lg`},{default:p(()=>[c(e(te),{class:`h-4 w-4 mr-2`}),l(` `+d(e(_)(`simulatorView.startSimulation`)),1)]),_:1}),c(e(S),{onClick:Zt,variant:`outline`,size:`lg`},{default:p(()=>[c(e(ce),{class:`h-4 w-4 mr-2`}),l(` `+d(e(_)(`simulatorView.reset`)),1)]),_:1})]),c(e(ne),{open:X.value,"onUpdate:open":s[12]||=e=>X.value=e},{default:p(()=>[c(e(ie),{class:`max-w-4xl max-h-[90vh] overflow-y-auto`},{default:p(()=>[c(e(oe),null,{default:p(()=>[c(e(ae),{class:`flex items-center gap-2`},{default:p(()=>[c(e(le),{class:`h-5 w-5`}),l(` `+d(e(_)(`simulatorView.battleResult`)),1)]),_:1})]),_:1}),W.value?(h(),r(`div`,Fe,[t(`div`,{class:a([`text-center p-4 rounded-lg`,Qt(W.value.winner)])},[t(`p`,Ie,d(W.value.winner===`attacker`?e(_)(`simulatorView.attackerVictory`):W.value.winner===`defender`?e(_)(`simulatorView.defenderVictory`):e(_)(`simulatorView.draw`)),1),t(`p`,Le,d(e(_)(`simulatorView.afterRounds`).replace(`{rounds}`,String(G.value))),1)],2),t(`div`,Re,[t(`div`,ze,[t(`p`,Be,d(e(_)(`simulatorView.attackerLosses`)),1),t(`div`,Ve,[(h(!0),r(n,null,f(W.value.attackerLosses,(n,i)=>(h(),r(`div`,{key:i},[t(`span`,He,d(e(O)[i].name)+`:`,1),t(`span`,Ue,d(n),1)]))),128)),Object.keys(W.value.attackerLosses).length===0?(h(),r(`p`,We,d(e(_)(`simulatorView.noLosses`)),1)):m(``,!0)])]),t(`div`,Ge,[t(`p`,Ke,d(e(_)(`simulatorView.defenderLosses`)),1),t(`div`,qe,[(h(!0),r(n,null,f(W.value.defenderLosses.fleet,(n,i)=>(h(),r(`div`,{key:i},[t(`span`,Je,d(e(O)[i].name)+`:`,1),t(`span`,Ye,d(n),1)]))),128)),(h(!0),r(n,null,f(W.value.defenderLosses.defense,(n,i)=>(h(),r(`div`,{key:i},[t(`span`,Xe,d(e(j)[i].name)+`:`,1),t(`span`,Ze,d(n),1)]))),128)),Object.keys(W.value.defenderLosses.fleet).length===0&&Object.keys(W.value.defenderLosses.defense).length===0?(h(),r(`p`,Qe,d(e(_)(`simulatorView.noLosses`)),1)):m(``,!0)])])]),t(`div`,$e,[t(`div`,et,[t(`p`,tt,d(e(_)(`simulatorView.attackerRemaining`)),1),t(`div`,nt,[(h(!0),r(n,null,f(K.value,(n,i)=>(h(),r(`div`,{key:i},[t(`span`,rt,d(e(O)[i].name)+`:`,1),t(`span`,it,d(n),1)]))),128)),Object.keys(K.value).length===0?(h(),r(`p`,at,d(e(_)(`simulatorView.allDestroyed`)),1)):m(``,!0)])]),t(`div`,ot,[t(`p`,st,d(e(_)(`simulatorView.defenderRemaining`)),1),t(`div`,ct,[(h(!0),r(n,null,f(q.value.fleet,(n,i)=>(h(),r(`div`,{key:i},[t(`span`,lt,d(e(O)[i].name)+`:`,1),t(`span`,B,d(n),1)]))),128)),(h(!0),r(n,null,f(q.value.defense,(n,i)=>(h(),r(`div`,{key:i},[t(`span`,ut,d(e(j)[i].name)+`:`,1),t(`span`,dt,d(n),1)]))),128)),Object.keys(q.value.fleet).length===0&&Object.keys(q.value.defense).length===0?(h(),r(`p`,ft,d(e(_)(`simulatorView.allDestroyed`)),1)):m(``,!0)])])]),t(`div`,pt,[Z.value.metal>0||Z.value.crystal>0||Z.value.deuterium>0?(h(),r(`div`,mt,[t(`p`,ht,d(e(_)(`simulatorView.plunderableResources`)),1),t(`div`,gt,[Z.value.metal>0?(h(),r(`span`,_t,[c(x,{type:`metal`,size:`sm`}),l(` `+d(e(w)(Z.value.metal)),1)])):m(``,!0),Z.value.crystal>0?(h(),r(`span`,vt,[c(x,{type:`crystal`,size:`sm`}),l(` `+d(e(w)(Z.value.crystal)),1)])):m(``,!0),Z.value.deuterium>0?(h(),r(`span`,yt,[c(x,{type:`deuterium`,size:`sm`}),l(` `+d(e(w)(Z.value.deuterium)),1)])):m(``,!0)])])):m(``,!0),Q.value.metal>0||Q.value.crystal>0?(h(),r(`div`,bt,[t(`p`,xt,d(e(_)(`simulatorView.debrisField`)),1),t(`div`,St,[Q.value.metal>0?(h(),r(`span`,Ct,[c(x,{type:`metal`,size:`sm`}),l(` `+d(e(w)(Q.value.metal)),1)])):m(``,!0),Q.value.crystal>0?(h(),r(`span`,wt,[c(x,{type:`crystal`,size:`sm`}),l(` `+d(e(w)(Q.value.crystal)),1)])):m(``,!0)]),$.value>0?(h(),r(`p`,Tt,d(e(_)(`simulatorView.moonChance`))+`: `+d($.value)+`%`,1)):m(``,!0)])):m(``,!0)]),t(`div`,Et,[c(e(S),{onClick:s[11]||=e=>Y.value=!Y.value,variant:`outline`,size:`sm`,class:`w-full`},{default:p(()=>[l(d(Y.value?e(_)(`simulatorView.hideRoundDetails`):e(_)(`simulatorView.showRoundDetails`)),1)]),_:1}),Y.value?(h(),r(`div`,Dt,[s[14]||=t(`div`,{class:`absolute left-2 top-0 bottom-0 w-0.5 bg-border`},null,-1),(h(!0),r(n,null,f(J.value,i=>(h(),r(`div`,{key:i.round,class:`relative`},[s[13]||=t(`div`,{class:`absolute -left-6 top-3 w-4 h-4 rounded-full bg-primary border-2 border-background`},null,-1),t(`div`,Ot,[t(`div`,kt,[t(`p`,At,d(e(_)(`simulatorView.round`).replace(`{round}`,String(i.round))),1),t(`div`,jt,[t(`span`,{class:`flex items-center gap-1`,title:e(_)(`simulatorView.attackerRemainingPower`)},[c(e(C),{class:`h-3 w-3`}),l(` `+d(e(w)(i.attackerRemainingPower)),1)],8,Mt),t(`span`,{class:`flex items-center gap-1`,title:e(_)(`simulatorView.defenderRemainingPower`)},[c(e(v),{class:`h-3 w-3`}),l(` `+d(e(w)(i.defenderRemainingPower)),1)],8,Nt)])]),t(`div`,Pt,[t(`div`,Ft,[t(`p`,It,d(e(_)(`simulatorView.attackerLosses`)),1),t(`div`,Lt,[(h(!0),r(n,null,f(i.attackerLosses,(n,i)=>(h(),r(`div`,{key:i,class:`flex justify-between`},[t(`span`,Rt,d(e(O)[i].name),1),t(`span`,zt,`-`+d(n),1)]))),128)),Object.keys(i.attackerLosses).length===0?(h(),r(`p`,Bt,d(e(_)(`simulatorView.noLosses`)),1)):m(``,!0)])]),t(`div`,Vt,[t(`p`,Ht,d(e(_)(`simulatorView.defenderLosses`)),1),t(`div`,Ut,[(h(!0),r(n,null,f(i.defenderLosses.fleet,(n,i)=>(h(),r(`div`,{key:i,class:`flex justify-between`},[t(`span`,Wt,d(e(O)[i].name),1),t(`span`,Gt,`-`+d(n),1)]))),128)),(h(!0),r(n,null,f(i.defenderLosses.defense,(n,i)=>(h(),r(`div`,{key:i,class:`flex justify-between`},[t(`span`,Kt,d(e(j)[i].name),1),t(`span`,qt,`-`+d(n),1)]))),128)),Object.keys(i.defenderLosses.fleet).length===0&&Object.keys(i.defenderLosses.defense).length===0?(h(),r(`p`,Jt,d(e(_)(`simulatorView.noLosses`)),1)):m(``,!0)])])])])]))),128))])):m(``,!0)])])):m(``,!0)]),_:1})]),_:1},8,[`open`])]))}});export{V as default};