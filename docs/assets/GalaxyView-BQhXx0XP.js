import{Dt as e,G as t,H as n,J as r,K as i,Ot as a,Q as o,R as s,St as c,X as l,Y as u,Z as d,a as f,at as ee,c as p,d as m,f as h,i as g,jt as _,kt as v,l as y,lt as b,m as x,n as S,o as C,p as w,pt as T,q as E,r as D,rt as O,s as te,st as k,u as A,ut as j,z as M}from"./vendor-ui-DBxeWLyT.js";import{s as ne}from"./vendor-vue-Bqq1sBNf.js";import{t as re}from"./eye-B5ACPUPU.js";import{t as ie}from"./CardDescription-CRV0m8La.js";import{A as N,Bt as P,Dt as F,G as I,It as L,Rt as R,Tt as ae,Vt as oe,dt as z,ft as B,jt as V,k as se,kt as H,lt as U,ut as W,zt as G}from"./index-Cch-Ig40.js";import{t as K}from"./AlertDialog-_72FqRCT.js";var ce=V(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),q=V(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),le=V(`chevron-up`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),J=d({__name:`Select`,props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:[`update:modelValue`,`update:open`],setup(t,{emit:n}){let r=s(t,n);return(t,n)=>(k(),i(e(x),O({"data-slot":`select`},e(r)),{default:T(e=>[j(t.$slots,`default`,v(o(e)))]),_:3},16))}}),Y=d({inheritAttrs:!1,__name:`SelectContent`,props:{forceMount:{type:Boolean},position:{default:`popper`},bodyLock:{type:Boolean},side:{},sideOffset:{},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:[`closeAutoFocus`,`escapeKeyDown`,`pointerDownOutside`],setup(t,{emit:n}){let r=t,o=n,c=s(S(r,`class`),o);return(n,o)=>(k(),i(e(p),null,{default:T(()=>[l(e(w),O({"data-slot":`select-content`},{...n.$attrs,...e(c)},{class:e(G)(`bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--reka-select-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border shadow-md`,t.position===`popper`&&`data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1`,r.class)}),{default:T(()=>[l(e(fe)),l(e(D),{class:a(e(G)(`p-1`,t.position===`popper`&&`h-[var(--reka-select-trigger-height)] w-full min-w-[var(--reka-select-trigger-width)] scroll-my-1`))},{default:T(()=>[j(n.$slots,`default`)]),_:3},8,[`class`]),l(e(de))]),_:3},16,[`class`])]),_:3}))}}),ue={class:`absolute right-2 flex size-3.5 items-center justify-center`},X=d({__name:`SelectItem`,props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(n){let r=n,a=M(S(r,`class`));return(n,o)=>(k(),i(e(m),O({"data-slot":`select-item`},e(a),{class:e(G)(`focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2`,r.class)}),{default:T(()=>[t(`span`,ue,[l(e(A),null,{default:T(()=>[j(n.$slots,`indicator-icon`,{},()=>[l(e(ce),{class:`size-4`})])]),_:3})]),l(e(y),null,{default:T(()=>[j(n.$slots,`default`)]),_:3})]),_:3},16,[`class`]))}}),de=d({__name:`SelectScrollDownButton`,props:{asChild:{type:Boolean},as:{},class:{}},setup(t){let n=t,r=M(S(n,`class`));return(t,a)=>(k(),i(e(te),O({"data-slot":`select-scroll-down-button`},e(r),{class:e(G)(`flex cursor-default items-center justify-center py-1`,n.class)}),{default:T(()=>[j(t.$slots,`default`,{},()=>[l(e(q),{class:`size-4`})])]),_:3},16,[`class`]))}}),fe=d({__name:`SelectScrollUpButton`,props:{asChild:{type:Boolean},as:{},class:{}},setup(t){let n=t,r=M(S(n,`class`));return(t,a)=>(k(),i(e(C),O({"data-slot":`select-scroll-up-button`},e(r),{class:e(G)(`flex cursor-default items-center justify-center py-1`,n.class)}),{default:T(()=>[j(t.$slots,`default`,{},()=>[l(e(le),{class:`size-4`})])]),_:3},16,[`class`]))}}),Z=d({__name:`SelectTrigger`,props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{},size:{default:`default`}},setup(t){let n=t,r=M(S(n,`class`,`size`));return(a,o)=>(k(),i(e(f),O({"data-slot":`select-trigger`,"data-size":t.size},e(r),{class:e(G)(`border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4`,n.class)}),{default:T(()=>[j(a.$slots,`default`),l(e(h),{"as-child":``},{default:T(()=>[l(e(q),{class:`size-4 opacity-50`})]),_:1})]),_:3},16,[`data-size`,`class`]))}}),Q=d({__name:`SelectValue`,props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(t){let n=t;return(t,r)=>(k(),i(e(g),O({"data-slot":`select-value`},n),{default:T(()=>[j(t.$slots,`default`)]),_:3},16))}}),pe={class:`container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6`},me={class:`text-2xl sm:text-3xl font-bold`},he={class:`grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4`},ge={class:`space-y-2`},_e={class:`space-y-2`},ve={class:`col-span-2 sm:col-span-1 flex items-end`},ye={class:`space-y-2`},be={class:`w-8 sm:w-12 text-center`},$={class:`flex-1 min-w-0`},xe={key:0,class:`space-y-1`},Se={class:`flex items-center gap-2`},Ce={class:`font-semibold text-sm sm:text-base truncate`},we={class:`text-xs text-muted-foreground`},Te={key:1,class:`text-sm text-muted-foreground`},Ee={class:`flex gap-1 sm:gap-2 flex-shrink-0`},De=d({__name:`GalaxyView`,setup(o){let s=oe(),d=ne(),{t:f}=P(),p=c(null),m=c(1),h=c(1),g=c(1),v=c(1),y=c([]);ee(()=>{s.currentPlanet&&(g.value=s.currentPlanet.position.galaxy,v.value=s.currentPlanet.position.system,m.value=g.value,h.value=v.value,S())});let x=(e,t)=>N(e,t).map(n=>{let r=se(e,t,n.position),i=s.universePlanets[r]||null;return{position:n.position,planet:i}}),S=()=>{g.value=m.value,v.value=h.value,y.value=x(g.value,v.value)},C=()=>{s.currentPlanet&&(g.value=s.currentPlanet.position.galaxy,v.value=s.currentPlanet.position.system,m.value=g.value,h.value=v.value,S())},w=e=>e?e.ownerId===s.player.id:!1,D=e=>{s.currentPlanetId=e,d.push(`/overview`)},O=(e,t,n)=>{let r=e?e.position:{galaxy:g.value,system:v.value,position:n},i=`${r.galaxy}:${r.system}:${r.position}`,a=``,o=``;t===`spy`?(o=f(`galaxyView.scoutPlanetTitle`),a=f(`galaxyView.scoutPlanetMessage`).replace(`{coordinates}`,i)):t===`attack`?(o=f(`galaxyView.attackPlanetTitle`),a=f(`galaxyView.attackPlanetMessage`).replace(`{coordinates}`,i)):t===`colonize`&&(o=f(`galaxyView.colonizePlanetTitle`),a=f(`galaxyView.colonizePlanetMessage`).replace(`{coordinates}`,i)),p.value?.show({title:o,message:a,onConfirm:()=>{d.push({path:`/fleet`,query:{galaxy:r.galaxy,system:r.system,position:r.position,mission:t}})}})};return(o,c)=>(k(),r(`div`,pe,[t(`h1`,me,_(e(f)(`galaxyView.title`)),1),l(e(B),null,{default:T(()=>[l(e(W),null,{default:T(()=>[l(e(U),null,{default:T(()=>[u(_(e(f)(`galaxyView.selectCoordinates`)),1)]),_:1})]),_:1}),l(e(z),null,{default:T(()=>[t(`div`,he,[t(`div`,ge,[l(e(I),{for:`select-galaxy`,class:`text-xs sm:text-sm`},{default:T(()=>[u(_(e(f)(`galaxyView.galaxy`)),1)]),_:1}),(k(),i(e(J),{key:e(s).locale,"model-value":String(m.value),"onUpdate:modelValue":c[0]||=e=>{m.value=Number(e),S()}},{default:T(()=>[l(e(Z),{id:`select-galaxy`,class:`w-full`},{default:T(()=>[l(e(Q),{placeholder:e(f)(`galaxyView.selectGalaxy`)},null,8,[`placeholder`])]),_:1}),l(e(Y),null,{default:T(()=>[(k(),r(n,null,b(9,t=>l(e(X),{key:t,value:String(t)},{default:T(()=>[u(_(e(f)(`galaxyView.galaxy`))+` `+_(t),1)]),_:2},1032,[`value`])),64))]),_:1})]),_:1},8,[`model-value`]))]),t(`div`,_e,[l(e(I),{for:`select-system`,class:`text-xs sm:text-sm`},{default:T(()=>[u(_(e(f)(`galaxyView.system`)),1)]),_:1}),(k(),i(e(J),{key:`${e(s).locale}-system`,"model-value":String(h.value),"onUpdate:modelValue":c[1]||=e=>{h.value=Number(e),S()}},{default:T(()=>[l(e(Z),{id:`select-system`,class:`w-full`},{default:T(()=>[l(e(Q),{placeholder:e(f)(`galaxyView.selectSystem`)},null,8,[`placeholder`])]),_:1}),l(e(Y),null,{default:T(()=>[(k(),r(n,null,b(10,t=>l(e(X),{key:t,value:String(t)},{default:T(()=>[u(_(e(f)(`galaxyView.system`))+` `+_(t),1)]),_:2},1032,[`value`])),64))]),_:1})]),_:1},8,[`model-value`]))]),t(`div`,ve,[l(e(R),{onClick:C,variant:`outline`,class:`w-full`},{default:T(()=>[l(e(H),{class:`h-4 w-4 mr-2`}),u(` `+_(e(f)(`galaxyView.myPlanet`)),1)]),_:1})])])]),_:1})]),_:1}),l(e(B),null,{default:T(()=>[l(e(W),null,{default:T(()=>[l(e(U),null,{default:T(()=>[u(_(e(f)(`galaxyView.galaxy`))+` `+_(g.value)+`:`+_(v.value),1)]),_:1}),l(e(ie),null,{default:T(()=>[u(_(e(f)(`galaxyView.totalPositions`)),1)]),_:1})]),_:1}),l(e(z),null,{default:T(()=>[t(`div`,ye,[(k(!0),r(n,null,b(y.value,n=>(k(),r(`div`,{key:n.position,class:a([`flex items-center gap-2 sm:gap-4 p-2 sm:p-3 border rounded-lg hover:bg-muted/50 transition-colors`,{"bg-blue-50 dark:bg-blue-950 border-blue-300 dark:border-blue-700":w(n.planet),"bg-muted/30":!n.planet}])},[t(`div`,be,[l(e(L),{variant:`outline`,class:`text-xs sm:text-sm`},{default:T(()=>[u(_(n.position),1)]),_:2},1024)]),t(`div`,$,[n.planet?(k(),r(`div`,xe,[t(`div`,Se,[t(`h3`,Ce,_(n.planet.name),1),w(n.planet)?(k(),i(e(L),{key:0,variant:`default`,class:`text-xs`},{default:T(()=>[u(_(e(f)(`galaxyView.mine`)),1)]),_:1})):(k(),i(e(L),{key:1,variant:`secondary`,class:`text-xs`},{default:T(()=>[u(_(e(f)(`galaxyView.hostile`)),1)]),_:1}))]),t(`p`,we,` [`+_(n.planet.position.galaxy)+`:`+_(n.planet.position.system)+`:`+_(n.planet.position.position)+`] `,1)])):(k(),r(`div`,Te,_(e(f)(`galaxyView.emptySlot`)),1))]),t(`div`,Ee,[n.planet&&!w(n.planet)?(k(),i(e(R),{key:0,onClick:e=>O(n.planet,`spy`),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`,title:e(f)(`galaxyView.scout`)},{default:T(()=>[l(e(re),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`,`title`])):E(``,!0),n.planet&&!w(n.planet)?(k(),i(e(R),{key:1,onClick:e=>O(n.planet,`attack`),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`,title:e(f)(`galaxyView.attack`)},{default:T(()=>[l(e(ae),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`,`title`])):E(``,!0),n.planet?E(``,!0):(k(),i(e(R),{key:2,onClick:e=>O(null,`colonize`,n.position),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`,title:e(f)(`galaxyView.colonize`)},{default:T(()=>[l(e(F),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`,`title`])),n.planet&&w(n.planet)?(k(),i(e(R),{key:3,onClick:e=>D(n.planet.id),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`,title:e(f)(`galaxyView.switch`)},{default:T(()=>[l(e(H),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`,`title`])):E(``,!0)])],2))),128))])]),_:1})]),_:1}),l(K,{ref_key:`actionDialog`,ref:p},null,512)]))}});export{De as default};