import{Dt as e,G as t,H as n,J as r,K as i,Ot as a,St as o,W as ee,X as s,Y as c,Z as l,jt as u,lt as te,pt as d,q as f,st as p}from"./vendor-ui-DBxeWLyT.js";import"./vendor-vue-Bqq1sBNf.js";import{t as m}from"./UnlockRequirement-BdFx1RC0.js";import{t as ne}from"./CardDescription-CRV0m8La.js";import{Bt as re,G as ie,K as ae,Pt as h,Rt as oe,V as g,Vt as _,W as v,dt as y,ft as b,lt as x,rt as S,st as C,ut as w,w as T,yt as E}from"./index-Cch-Ig40.js";import{t as D}from"./useGameConfig-D2EZdt1x.js";import{t as O}from"./AlertDialog-_72FqRCT.js";import{t as k}from"./CardUnlockOverlay-SeY-L1Ut.js";import{o as A,r as j}from"./shipValidation-Cx6mhfwF.js";var M={key:0,class:`container mx-auto p-4 sm:p-6`},N={class:`text-2xl sm:text-3xl font-bold mb-4 sm:mb-6`},P={class:`grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4`},F={class:`space-y-3 sm:space-y-4`},I={class:`grid grid-cols-2 gap-2 text-xs sm:text-sm`},L={class:`text-muted-foreground`},R={class:`font-medium`},z={class:`text-muted-foreground`},B={class:`font-medium`},V={class:`text-muted-foreground`},H={class:`font-medium`},U={class:`text-muted-foreground`},W={class:`font-medium`},se={class:`text-xs sm:text-sm space-y-1.5 sm:space-y-2`},G={class:`text-muted-foreground mb-1 sm:mb-2`},K={class:`space-y-1 sm:space-y-1.5`},ce={class:`flex items-center gap-1.5 sm:gap-2`},le={class:`text-xs`},ue={class:`flex items-center gap-1.5 sm:gap-2`},de={class:`text-xs`},fe={class:`flex items-center gap-1.5 sm:gap-2`},pe={class:`text-xs`},me={class:`space-y-2`},he={key:0,class:`text-xs sm:text-sm space-y-1.5 sm:space-y-2 p-2.5 sm:p-3 bg-muted rounded-lg`},ge={class:`font-medium text-muted-foreground`},_e={class:`space-y-1 sm:space-y-1.5`},ve={class:`flex items-center gap-1.5 sm:gap-2`},ye={class:`text-xs`},be={class:`flex items-center gap-1.5 sm:gap-2`},xe={class:`text-xs`},Se={class:`flex items-center gap-1.5 sm:gap-2`},Ce={class:`text-xs`},q=l({__name:`ShipyardView`,setup(l){let q=_(),we=E(),{t:J}=re(),{SHIPS:Y}=D(),X=ee(()=>q.currentPlanet),Z=o(null),Q=o({[C.LightFighter]:0,[C.HeavyFighter]:0,[C.Cruiser]:0,[C.Battleship]:0,[C.SmallCargo]:0,[C.LargeCargo]:0,[C.ColonyShip]:0,[C.Recycler]:0,[C.EspionageProbe]:0,[C.DarkMatterHarvester]:0}),Te=(e,t)=>{if(!q.currentPlanet||!A(q.currentPlanet,e,t,q.player.technologies).valid)return!1;let n=j(q.currentPlanet,e,t,q.player.officers);return q.currentPlanet.buildQueue.push(n),!0},Ee=e=>{let t=Q.value[e];if(t<=0){Z.value?.show({title:J(`shipyardView.inputError`),message:J(`shipyardView.inputErrorMessage`)});return}Te(e,t)?Q.value[e]=0:Z.value?.show({title:J(`shipyardView.buildFailed`),message:J(`shipyardView.buildFailedMessage`)})},De=e=>{if(!X.value)return!1;let t=Q.value[e];if(t<=0)return!1;let n=Y.value[e],r={metal:n.cost.metal*t,crystal:n.cost.crystal*t,deuterium:n.cost.deuterium*t};return T(X.value,q.player.technologies,n.requirements)&&X.value.resources.metal>=r.metal&&X.value.resources.crystal>=r.crystal&&X.value.resources.deuterium>=r.deuterium},$=e=>{let t=Q.value[e],n=Y.value[e];return{metal:n.cost.metal*t,crystal:n.cost.crystal*t,deuterium:n.cost.deuterium*t}};return(o,ee)=>X.value?(p(),r(`div`,M,[s(m,{"required-building":e(S).Shipyard,"required-level":1},null,8,[`required-building`]),t(`h1`,N,u(e(J)(`shipyardView.title`)),1),t(`div`,P,[(p(!0),r(n,null,te(Object.values(e(C)),n=>(p(),i(e(b),{key:n,class:`relative`},{default:d(()=>[s(k,{requirements:e(Y)[n].requirements},null,8,[`requirements`]),s(e(w),null,{default:d(()=>[s(e(x),{class:`text-base sm:text-lg cursor-pointer hover:text-primary transition-colors`,onClick:t=>e(we).openShip(n)},{default:d(()=>[c(u(e(Y)[n].name),1)]),_:2},1032,[`onClick`]),s(e(ne),{class:`text-xs sm:text-sm`},{default:d(()=>[c(u(e(Y)[n].description),1)]),_:2},1024)]),_:2},1024),s(e(y),null,{default:d(()=>[t(`div`,F,[t(`div`,I,[t(`div`,null,[t(`p`,L,u(e(J)(`shipyardView.attack`)),1),t(`p`,R,u(e(Y)[n].attack),1)]),t(`div`,null,[t(`p`,z,u(e(J)(`shipyardView.shield`)),1),t(`p`,B,u(e(Y)[n].shield),1)]),t(`div`,null,[t(`p`,V,u(e(J)(`shipyardView.speed`)),1),t(`p`,H,u(e(Y)[n].speed),1)]),t(`div`,null,[t(`p`,U,u(e(J)(`shipyardView.cargoCapacity`)),1),t(`p`,W,u(e(g)(e(Y)[n].cargoCapacity)),1)])]),t(`div`,se,[t(`p`,G,u(e(J)(`shipyardView.unitCost`))+`:`,1),t(`div`,K,[t(`div`,ce,[s(h,{type:`metal`,size:`sm`}),t(`span`,le,u(e(J)(`resources.metal`))+`:`,1),t(`span`,{class:a([`font-medium text-xs sm:text-sm`,e(v)(X.value.resources.metal,e(Y)[n].cost.metal)])},u(e(g)(e(Y)[n].cost.metal)),3)]),t(`div`,ue,[s(h,{type:`crystal`,size:`sm`}),t(`span`,de,u(e(J)(`resources.crystal`))+`:`,1),t(`span`,{class:a([`font-medium text-xs sm:text-sm`,e(v)(X.value.resources.crystal,e(Y)[n].cost.crystal)])},u(e(g)(e(Y)[n].cost.crystal)),3)]),t(`div`,fe,[s(h,{type:`deuterium`,size:`sm`}),t(`span`,pe,u(e(J)(`resources.deuterium`))+`:`,1),t(`span`,{class:a([`font-medium text-xs sm:text-sm`,e(v)(X.value.resources.deuterium,e(Y)[n].cost.deuterium)])},u(e(g)(e(Y)[n].cost.deuterium)),3)])])]),t(`div`,me,[s(e(ie),{for:`quantity-${n}`,class:`text-xs sm:text-sm`},{default:d(()=>[c(u(e(J)(`shipyardView.buildQuantity`)),1)]),_:1},8,[`for`]),s(e(ae),{id:`quantity-${n}`,modelValue:Q.value[n],"onUpdate:modelValue":e=>Q.value[n]=e,modelModifiers:{number:!0},type:`number`,min:`0`,placeholder:`0`,class:`text-sm`},null,8,[`id`,`modelValue`,`onUpdate:modelValue`])]),Q.value[n]>0?(p(),r(`div`,he,[t(`p`,ge,u(e(J)(`shipyardView.totalCost`))+`:`,1),t(`div`,_e,[t(`div`,ve,[s(h,{type:`metal`,size:`sm`}),t(`span`,ye,u(e(J)(`resources.metal`))+`:`,1),t(`span`,{class:a([`font-medium text-xs sm:text-sm`,e(v)(X.value.resources.metal,$(n).metal)])},u(e(g)($(n).metal)),3)]),t(`div`,be,[s(h,{type:`crystal`,size:`sm`}),t(`span`,xe,u(e(J)(`resources.crystal`))+`:`,1),t(`span`,{class:a([`font-medium text-xs sm:text-sm`,e(v)(X.value.resources.crystal,$(n).crystal)])},u(e(g)($(n).crystal)),3)]),t(`div`,Se,[s(h,{type:`deuterium`,size:`sm`}),t(`span`,Ce,u(e(J)(`resources.deuterium`))+`:`,1),t(`span`,{class:a([`font-medium text-xs sm:text-sm`,e(v)(X.value.resources.deuterium,$(n).deuterium)])},u(e(g)($(n).deuterium)),3)])])])):f(``,!0),s(e(oe),{onClick:e=>Ee(n),disabled:!De(n),class:`w-full`},{default:d(()=>[c(u(e(J)(`shipyardView.build`)),1)]),_:1},8,[`onClick`,`disabled`])])]),_:2},1024)]),_:2},1024))),128))]),s(O,{ref_key:`alertDialog`,ref:Z},null,512)])):f(``,!0)}});export{q as default};