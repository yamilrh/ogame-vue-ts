import{Dt as e,G as t,H as n,J as r,K as i,Ot as a,St as o,W as s,X as c,Y as l,Z as ee,jt as u,lt as te,pt as d,q as f,st as p}from"./vendor-ui-DBxeWLyT.js";import"./vendor-vue-Bqq1sBNf.js";import{t as ne}from"./CardDescription-CRV0m8La.js";import{B as re,Bt as ie,H as ae,I as oe,It as m,L as se,N as h,Nt as ce,P as g,Pt as _,R as v,Rt as y,V as b,Vt as le,W as x,dt as S,ft as C,lt as w,ot as T,ut as E,z as D}from"./index-Cch-Ig40.js";import{t as O}from"./useGameConfig-D2EZdt1x.js";import{t as k}from"./AlertDialog-_72FqRCT.js";var A={class:`container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6`},j={class:`text-2xl sm:text-3xl font-bold`},M={class:`grid grid-cols-2 sm:grid-cols-3 gap-4 sm:gap-6`},N={class:`flex justify-between items-start gap-2`},P={class:`min-w-0 flex-1`},F={key:0,class:`p-3 bg-blue-50 dark:bg-blue-950 rounded-lg`},I={class:`space-y-1 text-xs sm:text-sm`},L={class:`font-medium text-blue-700 dark:text-blue-300`},R={class:`text-muted-foreground`},z={class:`text-muted-foreground`},B={class:`space-y-2`},V={class:`text-sm font-medium text-muted-foreground`},H={class:`space-y-1.5`},U={class:`flex items-center gap-2`},W={class:`text-xs`},ue={class:`flex items-center gap-2`},de={class:`text-xs`},G={class:`flex items-center gap-2`},fe={class:`text-xs`},pe={key:0,class:`flex items-center gap-2`},me={class:`text-xs`},he={class:`space-y-2`},ge={class:`text-sm font-medium text-muted-foreground`},_e={class:`space-y-1 text-xs sm:text-sm`},ve={key:0,class:`flex items-center gap-2`},ye={key:1,class:`flex items-center gap-2`},be={key:2,class:`flex items-center gap-2`},xe={key:3,class:`flex items-center gap-2`},Se={key:4,class:`flex items-center gap-2`},Ce={key:5,class:`flex items-center gap-2`},we={key:6,class:`flex items-center gap-2`},Te={key:7,class:`flex items-center gap-2`},Ee={key:8,class:`flex items-center gap-2`},De={key:9,class:`flex items-center gap-2`},Oe={class:`flex gap-2`},K=ee({__name:`OfficersView`,setup(ee){let{t:K}=ie(),{OFFICERS:q}=O(),J=le(),Y=s(()=>J.currentPlanet),X=o(null),Z=o(null),Q=e=>{let t=J.player.officers[e],n=Date.now();return t.active&&(!t.expiresAt||t.expiresAt>n)},ke=e=>J.player.officers[e].expiresAt||0,Ae=e=>{let t=J.player.officers[e];if(!t.expiresAt)return 0;let n=Date.now();return Math.max(0,Math.floor((t.expiresAt-n)/1e3))},$=e=>{if(!Y.value)return!1;let t=q.value[e];return Y.value.resources.metal>=t.cost.metal&&Y.value.resources.crystal>=t.cost.crystal&&Y.value.resources.deuterium>=t.cost.deuterium&&Y.value.resources.darkMatter>=t.cost.darkMatter},je=(e,t=7)=>{if(!J.currentPlanet)return!1;let n=v(e);return h(J.currentPlanet.resources,n)?(g(J.currentPlanet.resources,n),J.player.officers[e]=oe(e,t),!0):!1},Me=e=>{Z.value?.show({title:K(`officersView.hireTitle`),message:K(`officersView.hireMessage`).replace(`{name}`,q.value[e].name),onConfirm:()=>{je(e,7)||X.value?.show({title:K(`officersView.hireFailed`),message:K(`officersView.insufficientResources`)})}})},Ne=(e,t=7)=>{if(!J.currentPlanet)return!1;let n=v(e);if(!h(J.currentPlanet.resources,n))return!1;g(J.currentPlanet.resources,n);let r=Date.now();return J.player.officers[e]=D(J.player.officers[e],t,r),!0},Pe=e=>{Z.value?.show({title:K(`officersView.renewTitle`),message:K(`officersView.renewMessage`).replace(`{name}`,q.value[e].name),onConfirm:()=>{Ne(e,7)||X.value?.show({title:K(`officersView.renewFailed`),message:K(`officersView.insufficientResources`)})}})},Fe=e=>{Z.value?.show({title:K(`officersView.dismissTitle`),message:K(`officersView.dismissMessage`).replace(`{name}`,q.value[e].name),onConfirm:()=>{J.player.officers[e]=se(e)}})};return(o,s)=>(p(),r(`div`,A,[t(`h1`,j,u(e(K)(`officersView.title`)),1),t(`div`,M,[(p(!0),r(n,null,te(Object.values(e(T)),n=>(p(),i(e(C),{key:n},{default:d(()=>[c(e(E),null,{default:d(()=>[t(`div`,N,[t(`div`,P,[c(e(w),{class:`text-lg sm:text-xl`},{default:d(()=>[l(u(e(q)[n].name),1)]),_:2},1024),c(e(ne),{class:`text-xs sm:text-sm`},{default:d(()=>[l(u(e(q)[n].description),1)]),_:2},1024)]),Q(n)?(p(),i(e(m),{key:0,variant:`default`,class:`text-xs`},{default:d(()=>[l(u(e(K)(`officersView.activated`)),1)]),_:1})):(p(),i(e(m),{key:1,variant:`outline`,class:`text-xs`},{default:d(()=>[l(u(e(K)(`officersView.inactive`)),1)]),_:1}))])]),_:2},1024),c(e(S),{class:`space-y-4`},{default:d(()=>[Q(n)?(p(),r(`div`,F,[t(`div`,I,[t(`p`,L,u(e(K)(`officersView.activeStatus`)),1),t(`p`,R,u(e(K)(`officersView.expirationTime`))+`: `+u(e(re)(ke(n))),1),t(`p`,z,u(e(K)(`officersView.remainingTime`))+`: `+u(e(ae)(Ae(n))),1)])])):f(``,!0),t(`div`,B,[t(`p`,V,u(e(K)(`officersView.recruitCost`))+` (7`+u(e(K)(`officersView.days`))+`):`,1),t(`div`,H,[t(`div`,U,[c(_,{type:`metal`,size:`sm`}),t(`span`,W,u(e(K)(`resources.metal`))+`:`,1),t(`span`,{class:a([`font-medium text-sm`,Y.value?e(x)(Y.value.resources.metal,e(q)[n].cost.metal):``])},u(e(b)(e(q)[n].cost.metal)),3)]),t(`div`,ue,[c(_,{type:`crystal`,size:`sm`}),t(`span`,de,u(e(K)(`resources.crystal`))+`:`,1),t(`span`,{class:a([`font-medium text-sm`,Y.value?e(x)(Y.value.resources.crystal,e(q)[n].cost.crystal):``])},u(e(b)(e(q)[n].cost.crystal)),3)]),t(`div`,G,[c(_,{type:`deuterium`,size:`sm`}),t(`span`,fe,u(e(K)(`resources.deuterium`))+`:`,1),t(`span`,{class:a([`font-medium text-sm`,Y.value?e(x)(Y.value.resources.deuterium,e(q)[n].cost.deuterium):``])},u(e(b)(e(q)[n].cost.deuterium)),3)]),e(q)[n].cost.darkMatter>0?(p(),r(`div`,pe,[c(_,{type:`darkMatter`,size:`sm`}),t(`span`,me,u(e(K)(`resources.darkMatter`))+`:`,1),t(`span`,{class:a([`font-medium text-sm`,Y.value?e(x)(Y.value.resources.darkMatter,e(q)[n].cost.darkMatter):``])},u(e(b)(e(q)[n].cost.darkMatter)),3)])):f(``,!0)])]),t(`div`,he,[t(`p`,ge,u(e(K)(`officersView.benefitsBonus`))+`:`,1),t(`div`,_e,[e(q)[n].benefits.resourceProductionBonus?(p(),r(`div`,ve,[s[0]||=t(`span`,{class:`text-green-600 dark:text-green-400`},`↑`,-1),t(`span`,null,u(e(K)(`officersView.resourceProduction`))+` +`+u(e(q)[n].benefits.resourceProductionBonus)+`%`,1)])):f(``,!0),e(q)[n].benefits.darkMatterProductionBonus?(p(),r(`div`,ye,[s[1]||=t(`span`,{class:`text-green-600 dark:text-green-400`},`↑`,-1),t(`span`,null,u(e(K)(`officersView.darkMatterProduction`))+` +`+u(e(q)[n].benefits.darkMatterProductionBonus)+`%`,1)])):f(``,!0),e(q)[n].benefits.buildingSpeedBonus?(p(),r(`div`,be,[s[2]||=t(`span`,{class:`text-green-600 dark:text-green-400`},`↑`,-1),t(`span`,null,u(e(K)(`officersView.buildingSpeed`))+` +`+u(e(q)[n].benefits.buildingSpeedBonus)+`%`,1)])):f(``,!0),e(q)[n].benefits.researchSpeedBonus?(p(),r(`div`,xe,[s[3]||=t(`span`,{class:`text-green-600 dark:text-green-400`},`↑`,-1),t(`span`,null,u(e(K)(`officersView.researchSpeed`))+` +`+u(e(q)[n].benefits.researchSpeedBonus)+`%`,1)])):f(``,!0),e(q)[n].benefits.fleetSpeedBonus?(p(),r(`div`,Se,[s[4]||=t(`span`,{class:`text-green-600 dark:text-green-400`},`↑`,-1),t(`span`,null,u(e(K)(`officersView.fleetSpeed`))+` +`+u(e(q)[n].benefits.fleetSpeedBonus)+`%`,1)])):f(``,!0),e(q)[n].benefits.fuelConsumptionReduction?(p(),r(`div`,Ce,[s[5]||=t(`span`,{class:`text-green-600 dark:text-green-400`},`↓`,-1),t(`span`,null,u(e(K)(`officersView.fuelConsumption`))+` -`+u(e(q)[n].benefits.fuelConsumptionReduction)+`%`,1)])):f(``,!0),e(q)[n].benefits.defenseBonus?(p(),r(`div`,we,[s[6]||=t(`span`,{class:`text-green-600 dark:text-green-400`},`↑`,-1),t(`span`,null,u(e(K)(`officersView.defense`))+` +`+u(e(q)[n].benefits.defenseBonus)+`%`,1)])):f(``,!0),e(q)[n].benefits.storageCapacityBonus?(p(),r(`div`,Te,[s[7]||=t(`span`,{class:`text-green-600 dark:text-green-400`},`↑`,-1),t(`span`,null,u(e(K)(`officersView.storageCapacity`))+` +`+u(e(q)[n].benefits.storageCapacityBonus)+`%`,1)])):f(``,!0),e(q)[n].benefits.additionalBuildQueue?(p(),r(`div`,Ee,[s[8]||=t(`span`,{class:`text-green-600 dark:text-green-400`},`+`,-1),t(`span`,null,u(e(K)(`officersView.buildQueue`))+` +`+u(e(q)[n].benefits.additionalBuildQueue),1)])):f(``,!0),e(q)[n].benefits.additionalFleetSlots?(p(),r(`div`,De,[s[9]||=t(`span`,{class:`text-green-600 dark:text-green-400`},`+`,-1),t(`span`,null,u(e(K)(`officersView.fleetSlots`))+` +`+u(e(q)[n].benefits.additionalFleetSlots),1)])):f(``,!0)])]),t(`div`,Oe,[Q(n)?f(``,!0):(p(),i(e(y),{key:0,onClick:e=>Me(n),disabled:!$(n),class:`flex-1`},{default:d(()=>[l(u(e(K)(`officersView.hire`))+` (7`+u(e(K)(`officersView.days`))+`) `,1)]),_:1},8,[`onClick`,`disabled`])),Q(n)?(p(),i(e(y),{key:1,onClick:e=>Pe(n),disabled:!$(n),class:`flex-1`},{default:d(()=>[l(u(e(K)(`officersView.renew`))+` (7`+u(e(K)(`officersView.days`))+`) `,1)]),_:1},8,[`onClick`,`disabled`])):f(``,!0),Q(n)?(p(),i(e(y),{key:2,onClick:e=>Fe(n),variant:`outline`,size:`sm`},{default:d(()=>[l(u(e(K)(`officersView.dismiss`)),1)]),_:1},8,[`onClick`])):f(``,!0)])]),_:2},1024)]),_:2},1024))),128))]),c(k,{ref_key:`alertDialog`,ref:X},null,512),c(ce,{ref_key:`confirmDialog`,ref:Z},null,512)]))}});export{K as default};